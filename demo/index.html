<!DOCTYPE HTML>
<html>

<head>
  <title>LayerHandler</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
  <link rel="stylesheet" href="assets/css/github-markdown.css" />
  <link rel="stylesheet" href="assets/css/main.css" />
  <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
</head>

<body data-gtm-page='{"someKeyOnBody": "hello", "otherKeyOnBody": "bye"}'>

  <!-- Header -->
  <section id="header">
    <header>
      <h1 id="logo"><a href="#">LayerHandler</a></h1>
      <p>Simple JS library to handle
        <br /> Google Tag Manager easily</p>
    </header>
    <nav id="nav">
      <ul>
        <li><a href="#about" class="active">About</a></li>
        <li><a href="#usage">Usage</a></li>
        <li><a href="#events">Bind Events</a></li>
        <li><a href="#rails">Rails Gem</a></li>
      </ul>
    </nav>
    <footer>
      <ul class="icons">
        <li>
          <a href="https://github.com/dreamingechoes/layer-handler" class="icon fa-github">
            <span class="label">Github</span>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/dreamingechoes" class="icon fa-twitter">
            <span class="label">Twitter</span>
          </a>
        </li>
        <li>
          <a href="mailto:hi@dreamingecho.es" class="icon fa-envelope">
            <span class="label">Email</span>
          </a>
        </li>
      </ul>
    </footer>
  </section>

  <!-- Wrapper -->
  <div id="wrapper">

    <!-- Main -->
    <div id="main">

      <!-- About -->
      <section id="about">
        <div class="container">
          <header class="major">
            <h2>About</h2>
            <p>LayerHandler is a simple JS library to handle Google Tag Manager easily.</p>
          </header>
          <p>
            It initializes the
            <strong>GTM dataLayer</strong> object, appends to your
            <strong>HTML</strong> body tag the
            <strong>GTM</strong> script code, and binds the specific events to all the
            <strong>HTML</strong> tags that have the
            <strong>data-gtm-*</strong> data attribute, pushing automatically the content of this data attribute to the
            <strong>dataLayer</strong> object. And all in one and little javascript library of less than 2Kb minified :)
          </p>
          <p>
            Feel free to share it, use it, fork it, clone it on Github... whatever you want!
          </p>
        </div>
      </section>

      <!-- Usage -->
      <section id="usage">
        <div class="container">
          <h3>Usage</h3>

          <p>
            The library works with one basic special data attribute:
            <strong>data-gtm-*</strong>. It search through all the
            <strong>HTML</strong> elements of your page to find this attribute, and binds the events and push the data you want.
          </p>

          <p>
            Fill the
            <strong>data-gtm-page</strong> attribute on the
            <strong>body</strong> tag to initialize the
            <strong>dataLayer</strong> like this:
          </p>

          <p>
            <article class="markdown-body">
              <div class="highlight highlight-source-html">
                <pre> &lt;body data-gtm-page='{&quot;someKeyOnBody&quot;: &quot;hello&quot;, &quot;otherKeyOnBody&quot;: &quot;bye&quot;}'&gt; &lt;/body&gt; </pre>
              </div>
            </article>
          </p>

          <p>
            This will initialize your
            <strong>dataLayer</strong> object with this info:
            <article class="markdown-body">
              <div class="highlight highlight-source-html">
                <pre> {&quot;someKeyOnBody&quot;: &quot;hello&quot;, &quot;otherKeyOnBody&quot;: &quot;bye&quot;} </pre>
              </div>
            </article>
          </p>

          <p>
            And in all the
            <strong>HTML</strong> tags you want to track, like this:
          </p>

          <p>
            <article class="markdown-body">
              <div class="highlight highlight-source-html">
                <pre> &lt;a href="#" data-gtm-click='{&quot;someKey&quot;: &quot;hello&quot;, &quot;otherKey&quot;: &quot;bye&quot;}'&gt;Hello!&lt;/a&gt; </pre>
              </div>
            </article>
          </p>

          <p>
            Then simply add the
            <strong>js</strong> file to your page, and execute the
            <strong>init</strong> method passing your
            <strong>GTM-ID</strong> like this:
          </p>

          <p>
            <article class="markdown-body">
              <div class="highlight highlight-source-js">
                <pre> LayerHandler.init("YOUR_GTM_ID_HERE"); </pre>
              </div>
            </article>
          </p>

          <p>
            <blockquote>
              ALERT! It's important to use use simple quotes to wrap the
              <strong>data-gtm-*</strong> info to be able to parse the data properly.
            </blockquote>
          </p>

        </div>
      </section>

      <!-- Events -->
      <section id="events">
        <div class="container">
          <article>
            <h3>Bind Event</h3>
            <p>
              If you want to bind some event on any tag to push certain data into the
              <strong>dataLayer</strong> object, you just have to give the special data attribute
              <strong>data-gtm-*</strong> to this tag with the content you want to push to the
              <strong>dataLayer</strong> on the event, and voila! There you have it!
            </p>
            <p>
              Here some examples of use:
              <article class="markdown-body">
                <div class="highlight highlight-source-html">
                  <pre> &lt;a id="example1" href="#" data-gtm-click='{&quot;someKey&quot;: &quot;hello&quot;, &quot;otherKey&quot;: &quot;bye&quot;}'&gt;Click me!&lt;/a&gt; </pre>
                </div>
              </article>
            </p>
            <p>
              Try: <a id="example1" href="#" data-gtm-click='{"someKey": "hello", "otherKey": "bye"}'>Click me!</a>
              <br>
            </p>

            <p>
              <article class="markdown-body">
                <div class="highlight highlight-source-html">
                  <pre> &lt;a id="example2" href="#" data-gtm-mouseover='{&quot;someKeyMouse&quot;: &quot;hello&quot;, &quot;otherKeyMouse&quot;: &quot;bye&quot;}'&gt;Move the mouse over me!&lt;/a&gt; </pre>
                </div>
              </article>
            </p>
            <p>
              Try: <a id="example2" href="#" data-gtm-mouseover='{"someKeyMouse": "hello", "otherKeyMouse": "bye"}'>Move the mouse over me!</a>
              <br>
            </p>
            <p>
              And so on...
            </p>
          </article>

          <article>
            <h3>Events</h3>
            <p>
              Here are a list of all the events that are handled right now.
              <strong>DOM</strong> Indicates in which
              <strong>DOM</strong> Level the property was introduced.
            </p>

            <h3>Mouse Events</h3>
            <table>
              <tbody>
                <tr>
                  <th style="width:20%">Event</th>
                  <th>Description</th>
                  <th style="width:6%">DOM</th>
                </tr>
                <tr>
                  <td>click</td>
                  <td>The event occurs when the user clicks on an element</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>contextmenu</td>
                  <td>The event occurs when the user right-clicks on an element to open a context menu</td>
                  <td>3</td>
                </tr>
                <tr>
                  <td>dblclick</td>
                  <td>The event occurs when the user double-clicks on an element</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>mousedown</td>
                  <td>The event occurs when the user presses a mouse button over an element</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>mouseenter</td>
                  <td>The event occurs when the pointer is moved onto an element</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>mouseleave</td>
                  <td>The event occurs when the pointer is moved out of an element</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>mousemove</td>
                  <td>The event occurs when the pointer is moving while it is over an element</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>mouseover</td>
                  <td>The event occurs when the pointer is moved onto an element, or onto one of its children</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>mouseout</td>
                  <td>The event occurs when a user moves the mouse pointer out of an element, or out of one of its children</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>mouseup</td>
                  <td>The event occurs when a user releases a mouse button over an element</td>
                  <td>2</td>
                </tr>
              </tbody>
            </table>

            <h3>Keyboard Events</h3>
            <table>
              <tbody>
                <tr>
                  <th style="width:20%">Event</th>
                  <th>Description</th>
                  <th style="width:6%">DOM</th>
                </tr>
                <tr>
                  <td>keydown</td>
                  <td>The event occurs when the user is pressing a key</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>keypress</td>
                  <td>The event occurs when the user presses a key</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>keyup</td>
                  <td>The event occurs when the user releases a key</td>
                  <td>2</td>
                </tr>
              </tbody>
            </table>
          </article>

          <h3>Frame/Object Events</h3>
          <table>
            <tbody>
              <tr>
                <th style="width:20%">Event</th>
                <th>Description</th>
                <th style="width:6%">DOM</th>
              </tr>
              <tr>
                <td>abort</td>
                <td>The event occurs when the loading of a resource has been aborted</td>
                <td>2</td>
              </tr>
              <tr>
                <td>beforeunload</td>
                <td>The event occurs before the document is about to be unloaded</td>
                <td>2</td>
              </tr>
              <tr>
                <td>error</td>
                <td>The event occurs when an error occurs while loading an external file </td>
                <td>2</td>
              </tr>
              <tr>
                <td>hashchange</td>
                <td>The event occurs when there has been changes to the anchor part of a URL</td>
                <td>3</td>
              </tr>
              <tr>
                <td>load</td>
                <td>The event occurs when an object has loaded</td>
                <td>2</td>
              </tr>
              <tr>
                <td>pageshow</td>
                <td>The event occurs when the user navigates to a webpage</td>
                <td>3</td>
              </tr>
              <tr>
                <td>pagehide</td>
                <td>The event occurs when the user navigates away from a webpage</td>
                <td>3</td>
              </tr>
              <tr>
                <td>resize</td>
                <td>The event occurs when the document view is resized</td>
                <td>2</td>
              </tr>
              <tr>
                <td>scroll</td>
                <td>The event occurs when an element's scrollbar is being scrolled</td>
                <td>2</td>
              </tr>
              <tr>
                <td>unload</td>
                <td>The event occurs once a page has unloaded (for &lt;body&gt;)
                </td>
                <td>2</td>
              </tr>
            </tbody>
          </table>

          <h3>Form Events</h3>
          <table>
            <tbody>
              <tr>
                <th style="width:20%">Event</th>
                <th>Description</th>
                <th style="width:6%">DOM</th>
              </tr>
              <tr>
                <td>blur</td>
                <td>The event occurs when an element loses focus</td>
                <td>2</td>
              </tr>
              <tr>
                <td>change</td>
                <td>The event occurs when the content of a form element, the selection, or the checked state have changed (for &lt;input&gt;, &lt;keygen&gt;, &lt;select&gt;, and &lt;textarea&gt;)</td>
                <td>2</td>
              </tr>
              <tr>
                <td>focus</td>
                <td>The event occurs when an element gets focus</td>
                <td>2</td>
              </tr>
              <tr>
                <td>focusin</td>
                <td>The event occurs when an element is about to get focus</td>
                <td>2</td>
              </tr>
              <tr>
                <td>focusout</td>
                <td>The event occurs when an element is about to lose focus</td>
                <td>2</td>
              </tr>
              <tr>
                <td>input</td>
                <td>The event occurs when an element gets user input</td>
                <td>3</td>
              </tr>
              <tr>
                <td>invalid</td>
                <td>The event occurs when an element is invalid</td>
                <td>3</td>
              </tr>
              <tr>
                <td>reset</td>
                <td>The event occurs when a form is reset</td>
                <td>2</td>
              </tr>
              <tr>
                <td>search</td>
                <td>The event occurs when the user writes something in a search field (for &lt;input="search"&gt;)
                </td>
                <td>3</td>
              </tr>
              <tr>
                <td>select</td>
                <td>The event occurs after the user selects some&nbsp;text (for &lt;input&gt; and &lt;textarea&gt;)</td>
                <td>2</td>
              </tr>
              <tr>
                <td>submit</td>
                <td>The event occurs when a form is submitted</td>
                <td>2</td>
              </tr>
            </tbody>
          </table>

          And more to come in the future! :)

        </div>
      </section>

      <!-- Rails Gem -->
      <section id="rails">
        <div class="container">
          <h3>Rails Gem</h3>
          <p>
            If you want to use this <strong>JS library</strong> with a <strong>Rails</strong> application, you have available the corresponding gem in order to do it more conveniently. Just follow this simple steps:
          </p>

          <p>
            Add this line to your application’s <strong>Gemfile</strong>:
          </p>

          <p>
            <article class="markdown-body">
              <div class="highlight highlight-source-html">
                <pre>gem 'layer-handler'</pre>
              </div>
            </article>
          </p>

          <p>
            And then execute:
          </p>

          <p>
            <article class="markdown-body">
              <div class="highlight highlight-source-html">
                <pre>$ bundle</pre>
              </div>
            </article>
          </p>

          <p>
            Or install it yourself:
          </p>

          <p>
            <article class="markdown-body">
              <div class="highlight highlight-source-html">
                <pre>$ gem install layer-handler</pre>
              </div>
            </article>
          </p>

          <p>
            After install the gem, add this into your <strong>application.js</strong> file:
          </p>

          <p>
            <article class="markdown-body">
              <div class="highlight highlight-source-html">
                <pre>  //= require layer_handler</pre>
              </div>
            </article>
          </p>

          <p>
            Then create the initializer of the gem by executing:
          </p>

          <p>
            <article class="markdown-body">
              <div class="highlight highlight-source-html">
                <pre>rails g layer:handler:install</pre>
              </div>
            </article>
          </p>

          <p>
            And edit the <strong>gtm_id</strong> config option on the new <strong>config/initializer/layer_handler.rb</strong> file. And there you have it. Just put this line at the end of your Rails layout and you’re ready to go:
          </p>

          <p>
            <article class="markdown-body">
              <div class="highlight highlight-source-html">
                <pre>&lt;%= init_layer_handler %&gt;</pre>
              </div>
            </article>
          </p>

          <p>
            Now you can use the <strong>JS library</strong> as usual.
          </p>
        </div>
      </section>

    </div>

    <!-- Footer -->
    <section id="footer">
      <div class="container">
        <div class="social-buttons">
          <a href="https://twitter.com/share" class="twitter-share-button" data-via="dreamingechoes" data-hashtags="gtm">Tweet</a>
          <script>
            ! function(d, s, id) {
              var js, fjs = d.getElementsByTagName(s)[0],
                p = /^http:/.test(d.location) ? 'http' : 'https';
              if (!d.getElementById(id)) {
                js = d.createElement(s);
                js.id = id;
                js.src = p + '://platform.twitter.com/widgets.js';
                fjs.parentNode.insertBefore(js, fjs);
              }
            }(document, 'script', 'twitter-wjs');
          </script>
          <iframe src="http://ghbtns.com/github-btn.html?user=dreamingechoes&amp;repo=layer-handler&amp;type=watch&amp;count=true" scrolling="0" style="width:50px; height: 20px;" allowtransparency="true" frameborder="0" height="20" width="107"></iframe>
          <iframe src="http://ghbtns.com/github-btn.html?user=dreamingechoes&amp;repo=layer-handler&amp;type=fork&amp;count=true" scrolling="0" style="width:50px; height: 20px;" allowtransparency="true" frameborder="0" height="20" width="107"></iframe>
          <iframe src="http://ghbtns.com/github-btn.html?user=dreamingechoes&amp;type=follow&amp;count=true" scrolling="0" style="width:195px; height: 20px;" allowtransparency="true" frameborder="0" height="20" width="195"></iframe>
        </div>
      </div>
    </section>

  </div>

  <!-- Scripts -->
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/jquery.scrollzer.min.js"></script>
  <script src="assets/js/jquery.scrolly.min.js"></script>
  <script src="assets/js/skel.min.js"></script>
  <script src="assets/js/util.js"></script>
  <script src="../src/layer-handler.js"></script>
  <!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
  <script src="assets/js/main.js"></script>

</body>

</html>
